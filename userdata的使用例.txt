python3安装flask在8080端口显示本地IP

#!/bin/bash
pip3 install flask
cat > /home/ec2-user/test <<EOF
from flask import Flask
import socket
app = Flask(__name__)
@app.route('/')
def index():
         hostname=socket.gethostname()
         ip=socket.gethostbyname(hostname)
         return ip
if __name__ == '__main__':
         app.run(host="0.0.0.0",port=8080)
EOF

python3 /home/ec2-user/test &